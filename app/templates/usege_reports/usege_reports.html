{% extends 'base.html' %}
{% block breadcrumb %}
<div class="col-sm-6">
  <h1 class="m-0">Usege Reports</h1>
</div><!-- /.col -->
<div class="col-sm-6">
  <ol class="breadcrumb float-sm-right">
    <li class="breadcrumb-item">Home / Reports</li>
  </ol>
</div>

<div class="content">
    <div class="container-fluid">
      <div class="row">
        <div class="col-12">
          <div class="card">
            <div class="card-header">
              <div class="row">
                <div class="col-lg-8">
                  <h5>Usage Report for dates between {{end_date}} - {{start_date}}</h5>
                </div>
                <div class="col-lg-4">
                  <button type="button" class="btn btn-primary float-right" data-toggle="modal" data-target="#modal-default">
                    Download MIS Report
                  </button>
                </div>
              </div>
            </div>
            <!-- /.card-header -->
            <div class="card-body">
              <form method="POST" action="">
              <div class="row">
                <div class="col-4">
                  <!-- Date range -->
                  <div class="form-group">
                    <label>Date range:</label>
                    <div class="input-group">
                      
                      <div class="input-group-prepend">
                        <span class="input-group-text" id="lax">
                          <i class="far fa-calendar-alt"></i>
                        </span>
                      </div>
                      <input type="text" value="select date" name="date_range" class="form-control " id="reservation">
                    </div>
                    <!-- /.input group -->
                  </div>
                  <!-- /.form group -->
                </div>
                <div class="col-2">
                  <input type="submit" name="Search" class="form-control btn btn-primary" value="Generate" style="margin-top: 32px;">
                </div>
              </div>
              </form>
              <table id="example1" class="table table-bordered table-striped">
                <thead>
                  <tr>
                    <th>Id - Name</th>
                    <th>No. of Days</th>
                    <th>Avg Gross Login Time</th>
                    <th>Effective Working Hrs</th>
                    <th>Idle Hrs</th>
                    <th>Average No. of Sessions</th>
                    <th>Idle Hrs %</th>
                    <th width="15%">Idle Hrs</th>
                  </tr>
                </thead>
                <tbody>
                  {% for row in all_usege_report %}
                  <tr>
                    <td>{{ row.username }}-{{row.full_name}}</td>
                    <td>{{row.number_of_days}}</td>
                    <td>{{row.Gross_Login_Time}}</td>
                    <td>{{row.Effective_Working_Hrs}}</td>
                    <td>{{row.Idle_Hrs}}</td>
                    <td>{{row.No_of_Sessions}}</td>
                    <td  width="15%">&nbsp;&nbsp;0 - 10% {{row.idle_hours010}}<br>
                        10 - 20% - {{row.idle_hours1020}}<br>
                        20 - 20% -{{row.idle_hours2030}}<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;30% -{{row.idle_hours1020}} 
                    </td>
                    <td>{{row.Idle_Hrs}}</td>
                  </tr>
                  {% endfor %}
                </tbody>
                <tfoot>
                  <tr>
                    <th>Id - Name</th>
                    <th>No. of Days</th>
                    <th>Avg Gross Login Time</th>
                    <th>Effective Working Hrs</th>
                    <th>Idle Hrs</th>
                    <th>Average No. of Sessions</th>
                    <th>Idle Hrs %</th>
                    <th width="15%">Idle Hrs</th>
                  </tr>
                </tfoot>
              </table>
            </div>
            <!-- /.card-body -->
          </div>
          <!-- /.card -->
        </div>
      </div>
      <!-- /.row -->
    </div>
    <!-- /.container-fluid -->
  </div>
  <!------------------------------Download MIS Reports Popup from Start------------------------->
  <div class="modal fade" id="modal-default">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title"><center>Download MIS Reports</center></h4>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-lg-12">
              <div class="card-body">
                <div class="row mb-2">
                  <div class="col-3">
                    <label>Date range:</label>
                  </div>
                  <div class="col-7">
                    <!-- Date range -->
                    <div class="form-group">
                      
                      <div class="input-group">
                        
                        <div class="input-group-prepend">
                          <span class="input-group-text">
                            <i class="far fa-calendar-alt"></i>
                          </span>
                        </div>
                        <input type="text" name="date_range" class="form-control float-right" id="reserve">
                      </div>
                      <!-- /.input group -->
                    </div>
                    <!-- /.form group -->
                  </div>
                  <div class="col-2">
                    <input type="submit" id="show_report" name="show_report" class="form-control btn btn-primary" value="Show Report">
                  </div>
                </div>
                <div class="row">
                  <div class="col-12">

                    <!-- Wrap your 2 elements in a d-flex -->
              
                    <div class=" bd-highlight">
                      <div class="row">
                        <div class="col-3">
                          <label id="monthly_report_span">Monthly Report:</label>
                        </div>
                        <div class="col-7">
                          <select class="form-control mr-2" id="select_monthly">
                          </select>
                        </div>
                        <div class="col-2">
                          <input type="button" class="btn btn-secondary" id="monthly_report_btn" value="Download" />
                        </div>
                      </div>   
                    </div>
              
                  </div>
                </div>
                <br>
                <div class="row">
                  <div class="col-12">

                    <!-- Wrap your 2 elements in a d-flex -->
              
                    <div class=" bd-highlight">
                      <div class="row">
                        <div class="col-3">
                          <label id="daily_report_span">Daily Report:</label>
                        </div>
                        <div class="col-7">
                          <select class="form-control mr-2" id="select_daily">
                          </select>
                        </div>
                        <div class="col-2">
                          <input type="button" class="btn btn-secondary" id="daily_report_btn" value="Download" />
                        </div>
                      </div>
                     </div>
              
                  </div>
                </div>
                <br>
                <div class="row">
                  <div class="col-12">

                    <!-- Wrap your 2 elements in a d-flex -->
              
                    <div class=" bd-highlight">
                      <div class="row">
                        <div class="col-3">
                          <label id="summary_report_span">Summary Report:</label>
                        </div>
                        <div class="col-7">
                          <select class="form-control mr-2" id="select_summary">
                          </select>
                        </div>
                        <div class="col-2">
                          <input type="button" class="btn btn-secondary" id="summary_report_btn" value="Download" />
                        </div>
                      </div>  
                    </div>
                  </div>
                </div>
                <br>
                <div class="row">
                  <div class="col-12">

                    <!-- Wrap your 2 elements in a d-flex -->
              
                    <div class=" bd-highlight">
                      <div class="row">
                        <div class="col-3">
                          <label id="weekly_report_span">Weekly Report:</label>
                        </div>
                        <div class="col-7">
                          <select class="form-control mr-2"  id="select_weekly">
                          </select>
                        </div>
                        <div class="col-2">
                          <input type="button" class="btn btn-secondary" id="weekly_report_btn" value="Download" />
                        </div>
                      </div>   
                    </div>
              
                  </div>
                </div>
                <br>
                <div class="row">
                  <div class="col-12">

                    <!-- Wrap your 2 elements in a d-flex -->
              
                    <div class="bd-highlight">
                      <div class="row">
                        <div class="col-3">
                          <label id="weekly_summary_report_span">Weekly summary:</label> 
                        </div>
                        <div class="col-7">
                          <select class="form-control mr-2" id="select_weekly_summary" placeholder="ygo_report">
                          </select>
                        </div>
                        <div class="col-2">
                          <input type="button" class="btn btn-secondary" id="weekly_summary_report_btn" value="Download" />
                        </div>
                      </div>
                     </div>
                  </div>
                </div>
              </div>
              <!-- /.card-body -->
            </div>
            <!-- /.card -->
          </div>
        </div>
        <!-- /.row -->
      </div>
      <!-- /.container-fluid -->
    </div>
    <!-- /.content -->
  </div>
  <!------------------------------Download MIS Reports Popup from End------------------------->

{% endblock %}
